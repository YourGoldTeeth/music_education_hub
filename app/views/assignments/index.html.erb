<p id="notice"><%= notice %></p>

<% if can? :update, Assignment %>
  <%= link_to 'New Assignment', new_assignment_path, style: "margin-bottom:20px;", class: 'btn btn-primary'  %>
<% end %>


      <!-- Example DataTables Card-->
      <div class="card mb-3">
        <div class="card-header">
          <i class="fa fa-pencil-square-o"></i> Assignments
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Date</th>
                  <th>Title</th>
                  <th>User</th>
                  <th>Homework</th>
                  <th>Attachment</th>
                  <th colspan="3"></th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>ID</th>
                  <th>Date</th>
                  <th>Title</th>
                  <th>User</th>
                  <th>Homework</th>
                  <th>Attachment</th>
                  <th colspan="3"></th>
                </tr>
              </tfoot>
              <tbody>
                <% @assignments.each do |assignment| %>
                  <tr>
                    <td><%= assignment.id %></td>
                    <td><%= assignment.created_at.stamp("Sun Aug 5, 01") %></td>
                    <td><%= assignment.title %></td>
                    <td><%= assignment.user.name %></td>

                    <% if assignment.homework_id != nil %>
                      <td><%= assignment.homework_id %></td>
                    <% else %>
                      <td>
                      <%= link_to 'New Homework', new_homework_path(:assignment_id => assignment.id), class: 'btn btn-primary'  %> 
                      </td> 
                    <% end %>  

                    <td><%= link_to "Download Assignment", assignment.attachment_url %></td>
                    <td><%= link_to 'Show', assignment %></td>
                    <% if can? :update, assignment %>
                      <td><%= link_to 'Edit', edit_assignment_path(assignment) %></td>
                      <td><%= link_to 'Destroy', assignment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
                    <% end %>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
      </div>
    </div>

<!-- <p id="notice"><%= notice %></p>

<h1>Assignments</h1>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>User</th>
      <th>Homework</th>
      <th>Attachment</th>
      <th colspan="3"></th>
    </tr>
  </thead> -->

  <!-- <tbody> -->
<!--     <% @assignments.each do |assignment| %>
      <tr>
        <td><%= assignment.title %></td>
        <td><%= assignment.user_id %></td>
        <td><%= assignment.homework_id %></td>
        <td><%= assignment.attachment %></td>
        <td><%= link_to 'Show', assignment %></td>
        <td><%= link_to 'Edit', edit_assignment_path(assignment) %></td>
        <td><%= link_to 'Destroy', assignment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br> -->

